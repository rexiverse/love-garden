<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Love Garden for You 💖</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
            cursor: none;
            user-select: none;
        }
        
        .garden-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(180deg, #87CEEB 0%, #98FB98 30%, #90EE90 70%, #228B22 100%);
            transition: background 3s ease;
        }
        
        .night-mode {
            background: linear-gradient(180deg, #191970 0%, #483D8B 30%, #2F4F4F 70%, #006400 100%);
        }
        
        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        .star {
            position: absolute;
            background: #FFD700;
            border-radius: 50%;
            animation: twinkle 2s infinite alternate;
        }
        
        @keyframes twinkle {
            0% { opacity: 0.3; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1.2); }
        }
        
        .moon {
            position: absolute;
            top: 10%;
            right: 10%;
            width: 80px;
            height: 80px;
            background: #F0E68C;
            border-radius: 50%;
            box-shadow: 0 0 20px #F0E68C;
            opacity: 0;
            transition: opacity 2s ease;
            z-index: 2;
        }
        
        .moon.visible {
            opacity: 0.8;
        }
        
        .sun {
            position: absolute;
            top: 10%;
            right: 10%;
            width: 60px;
            height: 60px;
            background: #FFD700;
            border-radius: 50%;
            box-shadow: 0 0 30px #FFA500;
            opacity: 1;
            transition: opacity 2s ease;
            z-index: 2;
        }
        
        .sun.hidden {
            opacity: 0;
        }
        
        .flower {
            position: absolute;
            transform-origin: bottom center;
            animation: bloom 1.5s ease-out;
            z-index: 3;
        }
        
        @keyframes bloom {
            0% { transform: scale(0) translateY(20px); opacity: 0; }
            50% { transform: scale(1.2) translateY(-5px); opacity: 0.8; }
            100% { transform: scale(1) translateY(0); opacity: 1; }
        }
        
        .flower-stem {
            width: 4px;
            background: linear-gradient(to top, #228B22, #32CD32, #90EE90);
            border-radius: 2px;
            position: relative;
            margin: 0 auto;
            box-shadow: inset 1px 0 0 rgba(255,255,255,0.3);
        }
        
        .flower-petals {
            position: absolute;
            cursor: pointer;
        }
        
        .petal {
            position: absolute;
            width: 16px;
            height: 24px;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            transform-origin: bottom center;
        }
        
        .rose .petal { background: linear-gradient(45deg, #FF69B4, #FF1493); }
        .tulip .petal { background: linear-gradient(45deg, #FF6347, #FFB6C1); }
        .daisy .petal { background: linear-gradient(45deg, #FFFFFF, #F0F8FF); }
        .sunflower .petal { background: linear-gradient(45deg, #FFD700, #FFA500); }
        .lavender .petal { background: linear-gradient(45deg, #9370DB, #DDA0DD); }
        
        .flower-center {
            position: absolute;
            top: 8px;
            left: 8px;
            width: 8px;
            height: 8px;
            background: #FFD700;
            border-radius: 50%;
            z-index: 5;
        }
        
        .love-message {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            padding: 12px 18px;
            border-radius: 25px;
            font-family: 'Dancing Script', cursive;
            font-size: 21px;
            color: #333;
            box-shadow: 0 6px 20px rgba(0,0,0,0.25);
            transform: translateY(-10px);
            opacity: 0;
            animation: messageFloat 20s ease-out forwards;
            z-index: 10;
            max-width: 300px;
            text-align: center;
            border: 3px solid #FFB6C1;
            font-weight: 600;
        }
        
        @keyframes messageFloat {
            0% { opacity: 0; transform: translateY(10px) scale(0.8); }
            20% { opacity: 1; transform: translateY(-30px) scale(1); }
            80% { opacity: 1; transform: translateY(-40px) scale(1); }
            100% { opacity: 0; transform: translateY(-60px) scale(0.9); }
        }
        
        .floating-heart {
            position: absolute;
            color: #FF69B4;
            font-size: 20px;
            animation: floatUp 3s ease-out forwards;
            z-index: 4;
            pointer-events: none;
        }
        
        @keyframes floatUp {
            0% { opacity: 1; transform: translateY(0) rotate(0deg) scale(1); }
            100% { opacity: 0; transform: translateY(-100px) rotate(360deg) scale(0.5); }
        }
        
        .butterfly {
            position: absolute;
            font-size: 24px;
            animation: butterfly-fly 10s infinite linear;
            z-index: 5;
            color: #FF69B4;
        }
        
        @keyframes butterfly-fly {
            0% { transform: translateX(-50px) translateY(20vh) rotate(0deg); }
            20% { transform: translateX(20vw) translateY(80vh) rotate(45deg); }
            40% { transform: translateX(60vw) translateY(30vh) rotate(-30deg); }
            60% { transform: translateX(80vw) translateY(70vh) rotate(60deg); }
            80% { transform: translateX(40vw) translateY(50vh) rotate(-45deg); }
            100% { transform: translateX(110vw) translateY(40vh) rotate(0deg); }
        }
        
        .bee {
            position: absolute;
            font-size: 18px;
            animation: bee-buzz 8s infinite ease-in-out;
            z-index: 5;
            opacity: 1;
            transition: opacity 2s ease;
        }
        
        .bee.hidden {
            opacity: 0;
        }
        
        @keyframes bee-buzz {
            0% { transform: translateX(-30px) translateY(75vh) rotate(0deg); }
            12% { transform: translateX(15vw) translateY(40vh) rotate(15deg); }
            25% { transform: translateX(35vw) translateY(85vh) rotate(-10deg); }
            37% { transform: translateX(55vw) translateY(25vh) rotate(20deg); }
            50% { transform: translateX(70vw) translateY(65vh) rotate(-15deg); }
            62% { transform: translateX(85vw) translateY(45vh) rotate(10deg); }
            75% { transform: translateX(65vw) translateY(80vh) rotate(-8deg); }
            87% { transform: translateX(45vw) translateY(35vh) rotate(12deg); }
            100% { transform: translateX(110vw) translateY(55vh) rotate(0deg); }
        }
        
        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50px;
            animation: cloud-drift 20s infinite linear;
            z-index: 1;
            opacity: 0.7;
        }
        
        .cloud::before,
        .cloud::after {
            content: '';
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50px;
        }
        
        @keyframes cloud-drift {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(calc(100vw + 100px)); }
        }
        
        .dewdrop {
            position: absolute;
            width: 4px;
            height: 6px;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.8), rgba(173,216,230,0.6));
            border-radius: 50% 50% 50% 0;
            top: 5px;
            right: 2px;
            opacity: 0.8;
            animation: dewdrop-shimmer 3s ease-in-out infinite;
        }
        
        @keyframes dewdrop-shimmer {
            0%, 100% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }
        
        @keyframes gentle-sway {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(1deg); }
            75% { transform: rotate(-1deg); }
        }
        
        .firefly {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #FFFF00;
            border-radius: 50%;
            box-shadow: 0 0 10px #FFFF00;
            animation: firefly-dance 8s infinite ease-in-out;
            opacity: 0;
            z-index: 6;
        }
        
        .firefly.active {
            opacity: 1;
        }
        
        @keyframes firefly-dance {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(100px, -50px); }
            50% { transform: translate(-80px, -100px); }
            75% { transform: translate(60px, -30px); }
        }
        
        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: #FFB6C1;
            border-radius: 50%;
            animation: particle-float 4s ease-out forwards;
            z-index: 2;
        }
        
        @keyframes particle-float {
            0% { opacity: 1; transform: translateY(0) scale(1); }
            100% { opacity: 0; transform: translateY(-150px) scale(0.3); }
        }
        
        .title {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            font-weight: 700;
            color: #FF1493;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            z-index: 10;
            animation: title-glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes title-glow {
            0% { text-shadow: 2px 2px 4px rgba(0,0,0,0.3), 0 0 0px #FF1493; }
            100% { text-shadow: 2px 2px 4px rgba(0,0,0,0.3), 0 0 20px #FF1493; }
        }
        
        .instruction {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: #FF1493;
            font-size: 1.1rem;
            text-align: center;
            background: rgba(255, 255, 255, 0.8);
            padding: 10px 20px;
            border-radius: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            animation: pulse 2s ease-in-out infinite;
            z-index: 10;
        }
        
        @keyframes pulse {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.05); }
        }
        
        .custom-cursor {
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid #FF69B4;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1000;
            transition: all 0.1s ease;
            background: rgba(255, 105, 180, 0.2);
        }
        
        .custom-cursor::after {
            content: '💕';
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
        }
        
        .garden-stats {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            z-index: 10;
            font-size: 0.9rem;
        }
        
        .day-night-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            z-index: 10;
            transition: all 0.3s ease;
        }
        
        .day-night-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }
        
        .wind-effect {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .grass {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 60px;
            background: linear-gradient(to top, #228B22, #32CD32);
            z-index: 1;
        }
        
        .grass::before {
            content: '';
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 30px;
            background: repeating-linear-gradient(
                90deg,
                #228B22 0px,
                #32CD32 2px,
                #228B22 4px
            );
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div class="garden-container" id="garden">
        <div class="grass"></div>
        <div class="stars" id="stars"></div>
        <div class="sun" id="sun"></div>
        <div class="moon" id="moon"></div>
        <div class="wind-effect" id="windEffect"></div>
        
        <h1 class="title">Your Love Garden 🌸</h1>
        
        <div class="garden-stats" id="stats">
            <div>🌸 Flowers: <span id="flowerCount">0</span></div>
            <div>💝 Love Messages: <span id="messageCount">0</span></div>
            <div>🦋 Garden Level: <span id="gardenLevel">Seedling</span></div>
        </div>
        
        <button class="day-night-toggle" id="dayNightToggle">🌙</button>
        
        <div class="instruction">
            Click anywhere to grow flowers! Love messages appear every few blooms 💕
        </div>
        
        <div class="custom-cursor" id="cursor"></div>
    </div>

    <script>
        // Love messages - CUSTOMIZE THESE WITH YOUR OWN MESSAGES!
        // Add as many or as few as you want - they'll show in order, then repeat
        const loveMessages = [
            "Welcome to our love garden! 🌸",
            "I love you because you make me feel seen",
            "I love you because you make me feel safe",
            "I love you because you know how to comfort me",
            "I love you because you always understand me",
            "I love you because you love me for who I am",
            "I love you because you are always there with me, even when I am not at my best",
            "I love you because you make my worst days worth living simply with the love and care you show me",
            "I love you because you are transparent and always ready to have even difficult conversations",
            "I love you because even when we don't see eye to eye you make the effort to listen to me",
            "I love you because you never invalidate my thoughts and feelings",
            "I love you because you motivate me to keep learning and exploring",
            "I love you because you celebrate my smallest wins like they’re headline news",
            "I love you because your laugh turns ordinary minutes into memories worth replaying",
            "I love you because you notice the tiny shifts in my tone and ask what’s really going on",
            "I love you because you challenge me kindly, pushing me toward the best version of myself",
            "I love you because you remember the stories behind my scars and treat them with tenderness",
            "I love you because your kindness spills over onto strangers, showing me everyday courage",
            "I love you because you share your dreams with me and make space for mine beside them",
            "I love you because distance never dulls the warmth you send my way",
            "I love you because comfortable silence with you feels like a soft blanket, not an empty room",
            "I love you because you trust me with your vulnerabilities and guard mine as carefully as your own",
            "I love you because you respect my true boundaries and help me respect them too",
            "I love you because your energy colors our world with fresh adventures",
            "I love you because when my anxiety swirls, you’re the steady anchor that keeps me grounded",
            "I love you because you forgive me easily without keeping score",
            "I love you because every day you choose us. Actively, intentionally, and with an open heart"
        ];
        
        const flowerTypes = ['rose', 'tulip', 'daisy', 'sunflower', 'lavender'];
        let flowerCount = 0;
        let messageCount = 0;
        let isNightMode = false;
        let butterflyInterval;
        let beeInterval;
        let firefliesActive = false;
        let bloomsSinceLastMessage = 0;
        let nextMessageThreshold = Math.floor(Math.random() * 3) + 3; // 3-5 blooms
        let currentMessageIndex = 0; // Track which message to show next
        
        // Initialize garden
        document.addEventListener('DOMContentLoaded', function() {
            createStars();
            createClouds();
            startButterflyAnimation();
            startBeeAnimation();
            
            // Custom cursor
            const cursor = document.getElementById('cursor');
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = (e.clientX - 10) + 'px';
                cursor.style.top = (e.clientY - 10) + 'px';
            });
            
            // Main click handler for planting flowers
            document.addEventListener('click', (e) => {
                if (e.target.id !== 'dayNightToggle') {
                    plantFlower(e.clientX, e.clientY);
                }
            });
            
            // Day/night toggle
            document.getElementById('dayNightToggle').addEventListener('click', toggleDayNight);
        });
        
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 50; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 60 + '%';
                star.style.width = star.style.height = (Math.random() * 3 + 1) + 'px';
                star.style.animationDelay = Math.random() * 2 + 's';
                star.style.opacity = '0';
                starsContainer.appendChild(star);
            }
        }
        
        function createClouds() {
            const garden = document.getElementById('garden');
            for (let i = 0; i < 4; i++) {
                setTimeout(() => {
                    const cloud = document.createElement('div');
                    cloud.className = 'cloud';
                    const size = Math.random() * 60 + 40;
                    cloud.style.width = size + 'px';
                    cloud.style.height = size * 0.6 + 'px';
                    cloud.style.top = Math.random() * 30 + 10 + '%';
                    cloud.style.animationDuration = (Math.random() * 10 + 20) + 's';
                    cloud.style.animationDelay = Math.random() * 5 + 's';
                    
                    // Cloud puffs
                    cloud.style.setProperty('--before-width', size * 0.8 + 'px');
                    cloud.style.setProperty('--before-height', size * 0.8 + 'px');
                    cloud.style.setProperty('--after-width', size * 0.6 + 'px');
                    cloud.style.setProperty('--after-height', size * 0.6 + 'px');
                    
                    garden.appendChild(cloud);
                    
                    // Remove cloud after animation
                    setTimeout(() => {
                        if (cloud.parentNode) {
                            cloud.parentNode.removeChild(cloud);
                        }
                    }, parseInt(cloud.style.animationDuration) * 1000);
                }, i * 5000);
            }
            
            // Repeat cloud creation
            setTimeout(createClouds, 25000);
        }
        
        function plantFlower(x, y) {
            flowerCount++;
            bloomsSinceLastMessage++;
            
            // Show message every 3-5 clicks anywhere on screen
            if (bloomsSinceLastMessage >= nextMessageThreshold) {
                showLoveMessage(x, y);
                bloomsSinceLastMessage = 0;
                nextMessageThreshold = Math.floor(Math.random() * 3) + 3; // Reset to 3-5
            }
            
            // Calculate variable stem height ensuring flower stays within screen bounds
            const maxStemHeight = window.innerHeight * 0.65 - 60; // Leave room for petals
            const minHeight = 30;
            const stemHeight = Math.random() * (maxStemHeight - minHeight) + minHeight;
            
            const flower = document.createElement('div');
            flower.className = 'flower';
            flower.style.left = (x - 15) + 'px';
            flower.style.bottom = '60px';
            
            const flowerType = flowerTypes[Math.floor(Math.random() * flowerTypes.length)];
            
            // Create stem with variable height
            const stem = document.createElement('div');
            stem.className = 'flower-stem';
            stem.style.height = stemHeight + 'px';
            
            // Add gentle sway animation
            const swayDelay = Math.random() * 4;
            stem.style.animation = `gentle-sway 4s ease-in-out infinite`;
            stem.style.animationDelay = swayDelay + 's';
            
            // Create petals container - properly positioned at top of stem
            const petalsContainer = document.createElement('div');
            petalsContainer.className = `flower-petals ${flowerType}`;
            petalsContainer.style.position = 'absolute';
            petalsContainer.style.top = '-15px'; // Position at top of stem
            petalsContainer.style.left = '50%';
            petalsContainer.style.transform = 'translateX(-50%)';
            
            // Variable petal sizes (±20%)
            const basePetalWidth = 16;
            const basePetalHeight = 24;
            const sizeVariation = 0.8 + Math.random() * 0.4; // 0.8 to 1.2 (±20%)
            const petalWidth = basePetalWidth * sizeVariation;
            const petalHeight = basePetalHeight * sizeVariation;
            
            // Create petals with size variation
            const petalCount = flowerType === 'daisy' ? 8 : flowerType === 'sunflower' ? 12 : 6;
            for (let i = 0; i < petalCount; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.style.width = petalWidth + 'px';
                petal.style.height = petalHeight + 'px';
                const angle = (360 / petalCount) * i;
                const offsetDistance = flowerType === 'sunflower' ? 12 : 8;
                petal.style.transform = `rotate(${angle}deg) translateY(-${offsetDistance}px)`;
                petalsContainer.appendChild(petal);
            }
            
            // Create center (scaled with flower size)
            const center = document.createElement('div');
            center.className = 'flower-center';
            const centerSize = 8 * sizeVariation;
            center.style.width = center.style.height = centerSize + 'px';
            center.style.top = (16 - centerSize/2) + 'px';
            center.style.left = (16 - centerSize/2) + 'px';
            
            // Add dewdrop (30% chance)
            if (Math.random() > 0.7 && !isNightMode) {
                const dewdrop = document.createElement('div');
                dewdrop.className = 'dewdrop';
                petalsContainer.appendChild(dewdrop);
            }
            
            petalsContainer.appendChild(center);
            stem.appendChild(petalsContainer); // Attach petals to stem
            flower.appendChild(stem);
            
            // Add click handler for additional effects only (no messages here!)
            flower.addEventListener('click', (e) => {
                e.stopPropagation();
                createFloatingHearts(x, y - stemHeight);
                createParticles(x, y - stemHeight + 20);
            });
            
            document.getElementById('garden').appendChild(flower);
            
            // Create initial floating heart
            createFloatingHearts(x, y);
            
            // Update stats
            updateStats();
            
            // Add some sparkle particles
            setTimeout(() => createParticles(x, y - 20), 500);
        }
        
        function showLoveMessage(x, y) {
            messageCount++;
            const message = document.createElement('div');
            message.className = 'love-message';
            
            // Show messages in sequence, cycle back to start when done
            message.textContent = loveMessages[currentMessageIndex];
            currentMessageIndex = (currentMessageIndex + 1) % loveMessages.length;
            
            // Constrain message to middle 50% height and 80% width of screen
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;
            const allowedWidth = screenWidth * 0.8;
            const allowedHeight = screenHeight * 0.5;
            const startWidth = screenWidth * 0.1; // 10% margin on each side
            const startHeight = screenHeight * 0.25; // Start at 25% from top
            
            // Constrain x position
            let messageX = Math.max(startWidth, Math.min(x - 150, startWidth + allowedWidth - 300));
            // Constrain y position 
            let messageY = Math.max(startHeight, Math.min(y - 50, startHeight + allowedHeight - 100));
            
            message.style.left = messageX + 'px';
            message.style.top = messageY + 'px';
            message.style.position = 'absolute';
            
            document.getElementById('garden').appendChild(message);
            
            setTimeout(() => {
                if (message.parentNode) {
                    message.parentNode.removeChild(message);
                }
            }, 5000);
            
            updateStats();
        }
        
        function createFloatingHearts(x, y) {
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'floating-heart';
                    heart.textContent = ['💖', '💝', '💕', '💗'][Math.floor(Math.random() * 4)];
                    heart.style.left = (x + (Math.random() - 0.5) * 40) + 'px';
                    heart.style.bottom = (window.innerHeight - y + 20) + 'px';
                    
                    document.getElementById('garden').appendChild(heart);
                    
                    setTimeout(() => {
                        if (heart.parentNode) {
                            heart.parentNode.removeChild(heart);
                        }
                    }, 3000);
                }, i * 200);
            }
        }
        
        function createParticles(x, y) {
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = (x + (Math.random() - 0.5) * 60) + 'px';
                    particle.style.bottom = (window.innerHeight - y + 10) + 'px';
                    particle.style.background = ['#FFB6C1', '#FF69B4', '#FFD700', '#98FB98'][Math.floor(Math.random() * 4)];
                    
                    document.getElementById('garden').appendChild(particle);
                    
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, 4000);
                }, i * 50);
            }
        }
        
        function startButterflyAnimation() {
            butterflyInterval = setInterval(() => {
                const butterfly = document.createElement('div');
                butterfly.className = 'butterfly';
                
                // Add color variety to butterflies
                const butterflyColors = ['#FF69B4', '#9370DB', '#FF6347', '#32CD32', '#FFD700', '#FF1493'];
                const butterflyEmojis = ['🦋', '🦋', '🐛'];
                
                butterfly.textContent = butterflyEmojis[Math.floor(Math.random() * butterflyEmojis.length)];
                butterfly.style.color = butterflyColors[Math.floor(Math.random() * butterflyColors.length)];
                butterfly.style.bottom = Math.random() * 60 + 20 + '%'; // Use full height range
                
                document.getElementById('garden').appendChild(butterfly);
                
                setTimeout(() => {
                    if (butterfly.parentNode) {
                        butterfly.parentNode.removeChild(butterfly);
                    }
                }, 10000);
            }, 5000 + Math.random() * 5000);
        }
        
        function startBeeAnimation() {
            beeInterval = setInterval(() => {
                if (!isNightMode) { // Only during day
                    const bee = document.createElement('div');
                    bee.className = 'bee';
                    bee.textContent = '🐝';
                    bee.style.bottom = Math.random() * 60 + 15 + '%'; // Use full height range
                    
                    document.getElementById('garden').appendChild(bee);
                    
                    setTimeout(() => {
                        if (bee.parentNode) {
                            bee.parentNode.removeChild(bee);
                        }
                    }, 8000);
                }
            }, 3000 + Math.random() * 4000);
        }
        
        function toggleDayNight() {
            isNightMode = !isNightMode;
            const garden = document.getElementById('garden');
            const sun = document.getElementById('sun');
            const moon = document.getElementById('moon');
            const toggle = document.getElementById('dayNightToggle');
            const stars = document.querySelectorAll('.star');
            const bees = document.querySelectorAll('.bee');
            const clouds = document.querySelectorAll('.cloud');
            
            if (isNightMode) {
                garden.classList.add('night-mode');
                sun.classList.add('hidden');
                moon.classList.add('visible');
                toggle.textContent = '☀️';
                
                // Show stars
                stars.forEach(star => {
                    star.style.opacity = '1';
                });
                
                // Hide bees
                bees.forEach(bee => {
                    bee.classList.add('hidden');
                });
                
                // Hide clouds
                clouds.forEach(cloud => {
                    cloud.style.opacity = '0';
                });
                
                // Activate fireflies
                activateFireflies();
            } else {
                garden.classList.remove('night-mode');
                sun.classList.remove('hidden');
                moon.classList.remove('visible');
                toggle.textContent = '🌙';
                
                // Hide stars
                stars.forEach(star => {
                    star.style.opacity = '0';
                });
                
                // Show bees
                bees.forEach(bee => {
                    bee.classList.remove('hidden');
                });
                
                // Show clouds
                clouds.forEach(cloud => {
                    cloud.style.opacity = '0.7';
                });
                
                // Deactivate fireflies
                deactivateFireflies();
            }
        }
        
        function activateFireflies() {
            if (firefliesActive) return;
            firefliesActive = true;
            
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const firefly = document.createElement('div');
                    firefly.className = 'firefly active';
                    firefly.style.left = Math.random() * 100 + '%';
                    firefly.style.bottom = Math.random() * 300 + 100 + 'px';
                    firefly.style.animationDelay = Math.random() * 4 + 's';
                    
                    document.getElementById('garden').appendChild(firefly);
                }, i * 200);
            }
        }
        
        function deactivateFireflies() {
            firefliesActive = false;
            const fireflies = document.querySelectorAll('.firefly');
            fireflies.forEach(firefly => {
                firefly.classList.remove('active');
                setTimeout(() => {
                    if (firefly.parentNode) {
                        firefly.parentNode.removeChild(firefly);
                    }
                }, 1000);
            });
        }
        
        function updateStats() {
            document.getElementById('flowerCount').textContent = flowerCount;
            document.getElementById('messageCount').textContent = messageCount;
            
            let level = 'Seedling';
            if (flowerCount >= 50) level = 'Blooming Paradise';
            else if (flowerCount >= 30) level = 'Flourishing Garden';
            else if (flowerCount >= 15) level = 'Growing Grove';
            else if (flowerCount >= 5) level = 'Budding Beauty';
            
            document.getElementById('gardenLevel').textContent = level;
            
            // Special effects at milestones
            if (flowerCount === 10) {
                showSpecialMessage("Our love is blooming! 🌺");
            } else if (flowerCount === 25) {
                showSpecialMessage("You've created a garden of love! 💐");
            } else if (flowerCount === 50) {
                showSpecialMessage("This is our paradise! 🌸✨");
                createCelebration();
            }
        }
        
        function showSpecialMessage(text) {
            const specialMsg = document.createElement('div');
            specialMsg.style.cssText = `
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(45deg, #FF69B4, #FFB6C1);
                color: white;
                padding: 20px 30px;
                border-radius: 30px;
                font-family: 'Dancing Script', cursive;
                font-size: 1.8rem;
                font-weight: 700;
                text-align: center;
                box-shadow: 0 8px 25px rgba(0,0,0,0.3);
                z-index: 100;
                animation: special-bounce 0.6s ease-out;
            `;
            specialMsg.textContent = text;
            
            document.getElementById('garden').appendChild(specialMsg);
            
            setTimeout(() => {
                if (specialMsg.parentNode) {
                    specialMsg.parentNode.removeChild(specialMsg);
                }
            }, 5000);
        }
        
        function createCelebration() {
            // Burst of hearts and particles
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    createFloatingHearts(
                        Math.random() * window.innerWidth,
                        Math.random() * window.innerHeight
                    );
                    createParticles(
                        Math.random() * window.innerWidth,
                        Math.random() * window.innerHeight
                    );
                }, i * 100);
            }
        }
        
        // Add some ambient movement
        setInterval(() => {
            if (Math.random() > 0.7) {
                createParticles(
                    Math.random() * window.innerWidth,
                    Math.random() * 200 + 200
                );
            }
        }, 2000);
        
        // Add CSS keyframes for special animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes special-bounce {
                0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
                50% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
                100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
